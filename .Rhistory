segment.ncp = 3,
segment.angle = 20
) +
partifärger
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1.5) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
scale_x_continuous(expand = expansion(mult = c(0.05, 0.2)),
limits = c(1973, 2024),
breaks = c(1973 , 1976 , 1979 , 1982 , 1985 , 1988 , 1991 , 1994 , 1998 , 2002 , 2006 , 2010 , 2014 , 2018 , 2022)) +
ss_theme +
geom_text_repel(
data = df %>% filter(År == 2022),  # Filter data for År = 2022
aes(label = Parti),
fontface = "bold",
size = 4,
direction = "y",
hjust = 0.3,
vjust = 0.3,
segment.size = .7,
segment.alpha = .5,
segment.linetype = "dotted",
box.padding = .4,
segment.curvature = -0.1,
segment.ncp = 3,
segment.angle = 20
) +
partifärger
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1.5) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
scale_x_continuous(expand = expansion(mult = c(0.05, 0.2)),
limits = c(1973, 2024),
breaks = c(1973 , 1976 , 1979 , 1982 , 1985 , 1988 , 1991 , 1994 , 1998 , 2002 , 2006 , 2010 , 2014 , 2018 , 2022)) +
ss_theme +
geom_text_repel(
data = df %>% filter(År == 2022),  # Filter data for År = 2022
aes(label = Parti),
fontface = "bold",
size = 4,
direction = "y",
hjust = -0.1,
vjust = 0.3,
segment.size = .7,
segment.alpha = .5,
segment.linetype = "dotted",
box.padding = .4,
segment.curvature = -0.1,
segment.ncp = 3,
segment.angle = 20
) +
partifärger
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1.5) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
scale_x_continuous(expand = expansion(mult = c(0.05, 0.2)),
limits = c(1973, 2023),
breaks = c(1973 , 1976 , 1979 , 1982 , 1985 , 1988 , 1991 , 1994 , 1998 , 2002 , 2006 , 2010 , 2014 , 2018 , 2022)) +
ss_theme +
geom_text_repel(
data = df %>% filter(År == 2022),  # Filter data for År = 2022
aes(label = Parti),
fontface = "bold",
size = 4,
direction = "y",
hjust = -0.1,
vjust = 0.3,
segment.size = .7,
segment.alpha = .5,
segment.linetype = "dotted",
box.padding = .4,
segment.curvature = -0.1,
segment.ncp = 3,
segment.angle = 20
) +
partifärger
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1.5) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
scale_x_continuous(expand = expansion(mult = c(0.05, 0.15)),
limits = c(1973, 2023),
breaks = c(1973 , 1976 , 1979 , 1982 , 1985 , 1988 , 1991 , 1994 , 1998 , 2002 , 2006 , 2010 , 2014 , 2018 , 2022)) +
ss_theme +
geom_text_repel(
data = df %>% filter(År == 2022),  # Filter data for År = 2022
aes(label = Parti),
fontface = "bold",
size = 4,
direction = "y",
hjust = -0.1,
vjust = 0.3,
segment.size = .7,
segment.alpha = .5,
segment.linetype = "dotted",
box.padding = .4,
segment.curvature = -0.1,
segment.ncp = 3,
segment.angle = 20
) +
partifärger
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1.5) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
scale_x_continuous(expand = expansion(mult = c(0.05, 0.1)),
limits = c(1973, 2023),
breaks = c(1973 , 1976 , 1979 , 1982 , 1985 , 1988 , 1991 , 1994 , 1998 , 2002 , 2006 , 2010 , 2014 , 2018 , 2022)) +
ss_theme +
geom_text_repel(
data = df %>% filter(År == 2022),  # Filter data for År = 2022
aes(label = Parti),
fontface = "bold",
size = 4,
direction = "y",
hjust = -0.1,
vjust = 0.3,
segment.size = .7,
segment.alpha = .5,
segment.linetype = "dotted",
box.padding = .4,
segment.curvature = -0.1,
segment.ncp = 3,
segment.angle = 20
) +
partifärger
ss_theme <- theme(plot.background = element_rect(fill = "#EB6864") ,
plot.caption = element_text(hjust = 0) ,
panel.background = element_rect(fill = "white"),
axis.line.x = element_line(color = "black" , linewidth = 0.75) ,
axis.line.y = element_line(color = "black" , linewidth = 0.75) ,
plot.title = element_text(color = "white" , size = 16 , family = "sans"),
panel.grid.major.y  = element_line(color = "#B51E17" , linetype = "dotted"),
panel.grid.major.x = element_line(NULL),
panel.grid.minor = element_line(NULL),
legend.background = element_rect(fill = "white"),
legend.key = element_rect(fill = "white"),
legend.text = element_text(color = "black" , family = "sans") ,
legend.title = element_text(color = "black" , family = "sans") ,
text = element_text(size=12, face="plain", color = "white" , family = "sans"),
axis.title = element_text(color = "white" , family = "sans"),
axis.text = element_text(color = "white" , family = "sans"))
# Partifärger
partifärger <- scale_colour_manual(values = c("Centerpartiet" = "#009933" ,
"Feministiskt initiativ" = "#CD1B68" ,
"Kristdemokraterna" = "#000077" ,
"Liberalerna" = "#006AB3" ,
"Miljöpartiet" = "#83CF39" ,
"Moderaterna" = "#52BDEC" ,
"Piratpartiet" = "#572B85" ,
"Socialdemokraterna" = "#E8112d" ,
"Sverigedemokraterna" = "#DDDD00" ,
"Vänsterpartiet" = "#DA291C" ,
"Övriga partier" = "grey"))
ss_theme_partier <- theme(plot.background = element_rect(fill = "#EB6864"),
plot.caption = element_text(hjust = 0),
panel.background = element_rect(fill = "white"),
axis.line.x = element_line(color = "black", linewidth = 0.75),
axis.line.y = element_line(color = "black", linewidth = 0.75),
plot.title = element_text(color = "white", size = 16, family = "sans"),
panel.grid.major.y = element_line(color = "#B51E17", linetype = "dotted"),
panel.grid.major.x = element_line(NULL),
panel.grid.minor = element_line(NULL),
legend.position = "none",  # Remove legend
text = element_text(size = 12, face = "plain", color = "white", family = "sans"),
axis.title = element_text(color = "white", family = "sans"),
axis.text = element_text(color = "white", family = "sans"))
rm(ss_theme_partier)
?geom_line
df <- valresultat_sverige %>%
pivot_longer(!År, names_to = "Parti", values_to = "Röster")
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1.25 , lineend = "butt") +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
ss_theme +
partifärger
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1.25 , lineend = "square") +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
ss_theme +
partifärger
df <- valresultat_sverige %>%
pivot_longer(!År, names_to = "Parti", values_to = "Röster")
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1.25 , lineend = "square") +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
ss_theme +
partifärger -> p_valresultat_sverige
ggplotly(p_valresultat_sverige , tooltip = "text") %>% config(displayModeBar = F)
library(flexdashboard)
library(ggplot2)
library(stringr)
library(scales)
library(dplyr)
library(tidyr)
library(DT)
library(png)
library(data.table)
library(magrittr)
library(gridExtra)
library(openxlsx)
library(patchwork)
library(ggthemes)
library(plotly)
library(ggridges)
library(forecast)
library(GGally)
library(cluster)
library(sf)
library(ggrepel)
library(ggtext)
# Data: Valresultat i Sverige
library(readxl)
valresultat_sverige <- read_excel("data/valresultat_sverige.xlsx",
col_types = c("text", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric"))
# Teman
ss_theme <- theme(plot.background = element_rect(fill = "#EB6864") ,
plot.caption = element_text(hjust = 0) ,
panel.background = element_rect(fill = "white"),
axis.line.x = element_line(color = "black" , linewidth = 0.75) ,
axis.line.y = element_line(color = "black" , linewidth = 0.75) ,
plot.title = element_text(color = "white" , size = 16 , family = "sans"),
panel.grid.major.y  = element_line(color = "#B51E17" , linetype = "dotted"),
panel.grid.major.x = element_line(NULL),
panel.grid.minor = element_line(NULL),
legend.background = element_rect(fill = "white"),
legend.key = element_rect(fill = "white"),
legend.text = element_text(color = "black" , family = "sans") ,
legend.title = element_text(color = "black" , family = "sans") ,
text = element_text(size=12, face="plain", color = "white" , family = "sans"),
axis.title = element_text(color = "white" , family = "sans"),
axis.text = element_text(color = "white" , family = "sans"))
# Partifärger
partifärger <- scale_colour_manual(values = c("Centerpartiet" = "#009933" ,
"Feministiskt initiativ" = "#CD1B68" ,
"Kristdemokraterna" = "#000077" ,
"Liberalerna" = "#006AB3" ,
"Miljöpartiet" = "#83CF39" ,
"Moderaterna" = "#52BDEC" ,
"Piratpartiet" = "#572B85" ,
"Socialdemokraterna" = "#E8112d" ,
"Sverigedemokraterna" = "#DDDD00" ,
"Vänsterpartiet" = "#DA291C" ,
"Övriga partier" = "grey"))
df <- valresultat_sverige %>%
pivot_longer(!År, names_to = "Parti", values_to = "Röster")
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
ss_theme +
partifärger -> p_valresultat_sverige
ggplotly(p_valresultat_sverige , tooltip = "text") %>% config(displayModeBar = F)
df <- valresultat_sverige %>%
pivot_longer(!År, names_to = "Parti", values_to = "Röster")
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
ss_theme +
partifärger -> p_valresultat_sverige
ggplotly(p_valresultat_sverige , tooltip = "text") %>% config(displayModeBar = F)
df <- valresultat_sverige %>%
pivot_longer(!År, names_to = "Parti", values_to = "Röster")
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
ss_theme +
theme(legend.position = c(0.85, 0.5)) +
partifärger -> p_valresultat_sverige
ggplotly(p_valresultat_sverige , tooltip = "text") %>% config(displayModeBar = F)
df <- valresultat_sverige %>%
pivot_longer(!År, names_to = "Parti", values_to = "Röster")
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
ss_theme +
theme(legend.position.inside = c(0.85 , 0.5)) +
partifärger -> p_valresultat_sverige
ggplotly(p_valresultat_sverige , tooltip = "text") %>% config(displayModeBar = F)
df <- valresultat_sverige %>%
pivot_longer(!År, names_to = "Parti", values_to = "Röster")
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
ss_theme +
theme(legend.position = "inside") +
partifärger
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
ss_theme +
theme(legend.position = "bottom") +
partifärger
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
ss_theme +
theme(legend.position = "right") +
partifärger
df <- valresultat_sverige %>%
pivot_longer(!År, names_to = "Parti", values_to = "Röster")
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
ss_theme +
theme(legend.position = "right") +
partifärger -> p_valresultat_sverige
ggplotly(p_valresultat_sverige , tooltip = "text") %>% config(displayModeBar = F)
ggplotly(p_valresultat_sverige, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle"))
library(readxl)
valresultat_eu <- read_excel("data/valresultat_eu.xlsx",
col_types = c("text", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric"))
View(valresultat_eu)
df <- valresultat_eu %>%
pivot_longer(!År, names_to = "Parti", values_to = "Röster")
df <- valresultat_eu %>%
pivot_longer(!År, names_to = "Parti", values_to = "Röster")
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 50, 5), limits = c(0, 50)) +
ss_theme +
partifärger -> p_valresultat_eu
ggplotly(p_valresultat_eu, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle"))
df <- valresultat_eu %>%
pivot_longer(!År, names_to = "Parti", values_to = "Röster")
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 30, 5), limits = c(0, 30)) +
ss_theme +
partifärger
df <- valresultat_eu %>%
pivot_longer(!År, names_to = "Parti", values_to = "Röster")
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 30, 5), limits = c(0, 30)) +
ss_theme +
partifärger -> p_valresultat_eu
ggplotly(p_valresultat_eu, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle"))
partifärger <- scale_colour_manual(values = c("Centerpartiet" = "#009933" ,
"Feministiskt initiativ" = "#CD1B68" ,
"Kristdemokraterna" = "#000077" ,
"Liberalerna" = "#006AB3" ,
"Miljöpartiet" = "#83CF39" ,
"Moderaterna" = "#52BDEC" ,
"Piratpartiet" = "#572B85" ,
"Socialdemokraterna" = "#E8112d" ,
"Sverigedemokraterna" = "#DDDD00" ,
"Vänsterpartiet" = "#DA291C" ,
"Junilistan" = "#ff8c00" ,
"Övriga partier" = "grey"))
df <- valresultat_eu %>%
pivot_longer(!År, names_to = "Parti", values_to = "Röster")
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 30, 5), limits = c(0, 30)) +
ss_theme +
partifärger -> p_valresultat_eu
ggplotly(p_valresultat_eu, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle"))
valresultat_eu <- read_excel("data/valresultat_eu.xlsx",
col_types = c("text", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric"))
valresultat_eu <- read_excel("data/valresultat_eu.xlsx",
col_types = c("text", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric"))
df <- valresultat_eu %>%
pivot_longer(!År, names_to = "Parti", values_to = "Röster")
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 30, 5), limits = c(0, 30)) +
ss_theme +
partifärger -> p_valresultat_eu
ggplotly(p_valresultat_eu, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle"))
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 30, 5), limits = c(0, 30)) +
ss_theme +
partifärger -> p_valresultat_eu
ggplotly(p_valresultat_eu, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle")) %>%
add_trace(
x = c(min(df$År), max(df$År)),
y = c(0.04, 0.04),
type = "scatter",
mode = "lines",
line = list(dash = "dot", color = "black"),
showlegend = FALSE
)
ggplotly(p_valresultat_eu, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle")) %>%
add_trace(
x = c(min(df$År), max(df$År)),
y = c(0.04, 0.04),
type = "scatter",
mode = "lines",
line = list(dash = "dot", color = "black"),
showlegend = FALSE
)
ggplotly(p_valresultat_eu, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle")) %>%
add_trace(
x = c(min(df$År), max(df$År)),
y = c(0.04, 0.04),
mode = "lines",
line = list(dash = "dot", color = "black"),
showlegend = FALSE
)
ggplotly(p_valresultat_eu, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle")) %>%
add_trace(
x = c(min(df$År), max(df$År)),
y = c(0.04, 0.04),
mode = "lines",
line = list(dash = "dot"),
showlegend = FALSE
)
ggplotly(p_valresultat_eu, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle")) %>%
add_segments(x = 1990, xend = 2025, y = 0.04, yend = 0.04)
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 30, 5), limits = c(0, 30)) +
ss_theme +
partifärger
df %>%
ggplot(aes(x = År, y = Röster, group = Parti, colour = Parti,
text = paste("År: ", År, "\n", Parti, "\nRöster: ", Röster, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(labels = percent_format(scale = 1), breaks = seq(0, 30, 5), limits = c(0, 30)) +
ss_theme +
partifärger -> p_valresultat_eu
ggplotly(p_valresultat_eu, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle")) %>%
add_segments(x = 1990, xend = 2025, y = 0.04, yend = 0.04)
ggplotly(p_valresultat_eu, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle")) %>%
add_lines(x = 1990, xend = 2025, y = 0.04, yend = 0.04)
ggplotly(p_valresultat_eu, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle"))
