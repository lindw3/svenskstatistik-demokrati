df <- partisympati_kön_utb %>%
filter(Ålder != "Totalt" ,
År == 2024 ,
Kön == "Båda") %>%
pivot_longer(!c(År, Kön, Utbildning) , names_to = "Parti" , values_to = "Andel")
levels = c("Förgymnasial" , "Gymnasial" , "Eftergymnasial, -3" , "Eftergymnasial, 3+")
df <- partisympati_kön_utb %>%
filter(År == 2024 ,
Kön == "Båda") %>%
pivot_longer(!c(År, Kön, Utbildning) , names_to = "Parti" , values_to = "Andel")
df %>%
ggplot(aes(y = Parti, x = Andel, fill = factor(Utbildning , level = levels),
text = paste(Parti, "\nUtbildning: ", Utbildning, "\nAndel: ", Andel, "%"))) +
geom_col(position = "dodge") +
xlab("Andel, %") +
labs(fill = "Utbildningsnivå") +
ss_theme +
scale_fill_manual(values = c("Förgymnasial" = "#ffb1b1",
"Gymnasial" = "#64b6ee" ,
"Eftergymnasial, -3" = "#94c58c",
"Eftergymnasial, 3+" = "#ffff9a")) -> p_partisympatier_utb
ggplotly(p_partisympatier_utb, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle"))
levels = c("Eftergymnasial, 3+ år" , "Eftergymnasial, -3 år" ,  "Gymnasial" , "Förgymnasial")
df <- partisympati_kön_utb %>%
filter(År == 2024 ,
Kön == "Båda") %>%
pivot_longer(!c(År, Kön, Utbildning) , names_to = "Parti" , values_to = "Andel")
df %>%
ggplot(aes(y = Parti, x = Andel, fill = factor(Utbildning , level = levels),
text = paste(Parti, "\nUtbildning: ", Utbildning, "\nAndel: ", Andel, "%"))) +
geom_col(position = "dodge") +
xlab("Andel, %") +
labs(fill = "Utbildningsnivå") +
ss_theme +
scale_fill_manual(values = c("Förgymnasial" = "#ffb1b1",
"Gymnasial" = "#64b6ee" ,
"Eftergymnasial, -3" = "#94c58c",
"Eftergymnasial, 3+" = "#ffff9a")) -> p_partisympatier_utb
ggplotly(p_partisympatier_utb, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle"))
partisympati_kön_utb <- read_excel("data/partisympati_kön_utb.xlsx",
col_types = c("numeric", "text", "text",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric"))
colnames(partisympati_kön_utb) <- c("År" , "Kön" , "Utbildning" , "Moderaterna" , "Centerpartiet" , "Liberalerna" ,
"Kristdemokraterna" , "Miljöpartiet" , "Socialdemokraterna" , "Vänsterpartiet" ,
"Sverigedemokraterna" , "Övriga partier")
levels = c("Eftergymnasial, 3+ år" , "Eftergymnasial, -3 år" ,  "Gymnasial" , "Förgymnasial")
df <- partisympati_kön_utb %>%
filter(År == 2024 ,
Kön == "Båda") %>%
pivot_longer(!c(År, Kön, Utbildning) , names_to = "Parti" , values_to = "Andel")
df %>%
ggplot(aes(y = Parti, x = Andel, fill = factor(Utbildning , level = levels),
text = paste(Parti, "\nUtbildning: ", Utbildning, "\nAndel: ", Andel, "%"))) +
geom_col(position = "dodge") +
xlab("Andel, %") +
labs(fill = "Utbildningsnivå") +
ss_theme +
scale_fill_manual(values = c("Förgymnasial" = "#ffb1b1",
"Gymnasial" = "#64b6ee" ,
"Eftergymnasial, -3" = "#94c58c",
"Eftergymnasial, 3+" = "#ffff9a")) -> p_partisympatier_utb
ggplotly(p_partisympatier_utb, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle"))
df %>%
ggplot(aes(y = Parti, x = Andel, fill = factor(Utbildning , level = levels),
text = paste(Parti, "\nUtbildning: ", Utbildning, "\nAndel: ", Andel, "%"))) +
geom_col(position = "dodge") +
xlab("Andel, %") +
labs(fill = "Utbildningsnivå") +
ss_theme +
scale_fill_manual(values = c("Förgymnasial" = "#ffb1b1",
"Gymnasial" = "#64b6ee" ,
"Eftergymnasial, -3 år" = "#94c58c",
"Eftergymnasial, 3+ år" = "#ffff9a")) -> p_partisympatier_utb
ggplotly(p_partisympatier_utb, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle"))
df <- partisympati_kön_utb %>%
filter(Kön == "Båda") %>%
select(!Kön) %>%
pivot_longer(!c(År, Utbildning) , names_to = "Parti" , values_to = "Andel")
df_blå <- df %>%
filter(Parti %in% c("Moderaterna", "Liberalerna", "Kristdemokraterna", "Sverigedemokraterna")) %>%
group_by(År, Utbildning) %>%
summarise(Blå = sum(Andel, na.rm = TRUE))
df_röd <- df %>%
filter(Parti %in% c("Miljöpartiet", "Socialdemokraterna",
"Vänsterpartiet", "Centerpartiet")) %>%
group_by(År, Utbildning) %>%
summarise(Röd = sum(Andel, na.rm = TRUE))
df_combined <- cbind(df_blå, df_röd)
df_combined
df_combined <- df_combined %>%
select(-c(4, 5))
colnames(df_combined) <- c("År" ,  "Utbildning" , "Blå" , "Röd")
df_combined <- df_combined %>%
mutate(Blocktillhörighet = round(Blå / (Blå + Röd) , 3))
df_combined$År <- as.factor(df_combined$År)
df_combined %>%
filter(!År %in% c("2006", "2007", "2008",   # Då Centerpartiet var ett högerparti fram till 2018
"2009", "2010", "2011" ,
"2012" , "2013" , "2014" ,
"2015" , "2016" ,"2017")) %>%
ggplot(aes(x = År , y = Blocktillhörighet , group = Utbildning , color = Utbildning,
text = paste(År, "\nUtbildning: " , Utbildning, "\nAndel höger: " , Blocktillhörighet * 100, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(limits = c(0.4, 0.6),
breaks = 0.5,
labels = scales::percent_format(accuracy = 1)) +
scale_x_discrete(breaks = c("2018" , "2024")) +
scale_color_manual(values = c("Förgymnasial" = "#ffb1b1",
"Gymnasial" = "#64b6ee" ,
"Eftergymnasial, -3 år" = "#94c58c",
"Eftergymnasial, 3+ år" = "#ffff9a")) +
ss_theme
df_combined %>%
filter(!År %in% c("2006", "2007", "2008",   # Då Centerpartiet var ett högerparti fram till 2018
"2009", "2010", "2011" ,
"2012" , "2013" , "2014" ,
"2015" , "2016" ,"2017")) %>%
ggplot(aes(x = År , y = Blocktillhörighet , group = Utbildning , color = Utbildning,
text = paste(År, "\nUtbildning: " , Utbildning, "\nAndel höger: " , Blocktillhörighet * 100, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(limits = c(0.3, 0.7),
breaks = 0.5,
labels = scales::percent_format(accuracy = 1)) +
scale_x_discrete(breaks = c("2018" , "2024")) +
scale_color_manual(values = c("Förgymnasial" = "#ffb1b1",
"Gymnasial" = "#64b6ee" ,
"Eftergymnasial, -3 år" = "#94c58c",
"Eftergymnasial, 3+ år" = "#ffff9a"))
df_combined %>%
filter(!År %in% c("2006", "2007", "2008",   # Då Centerpartiet var ett högerparti fram till 2018
"2009", "2010", "2011" ,
"2012" , "2013" , "2014" ,
"2015" , "2016" ,"2017")) %>%
ggplot(aes(x = År , y = Blocktillhörighet , group = Utbildning , color = Utbildning,
text = paste(År, "\nUtbildning: " , Utbildning, "\nAndel höger: " , Blocktillhörighet * 100, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(limits = c(0.35, 0.65),
breaks = 0.5,
labels = scales::percent_format(accuracy = 1)) +
scale_x_discrete(breaks = c("2018" , "2024")) +
scale_color_manual(values = c("Förgymnasial" = "#ffb1b1",
"Gymnasial" = "#64b6ee" ,
"Eftergymnasial, -3 år" = "#94c58c",
"Eftergymnasial, 3+ år" = "#ffff9a")) +
ss_theme
df_combined %>%
filter(!År %in% c("2006", "2007", "2008",   # Då Centerpartiet var ett högerparti fram till 2018
"2009", "2010", "2011" ,
"2012" , "2013" , "2014" ,
"2015" , "2016" ,"2017")) %>%
ggplot(aes(x = År , y = Blocktillhörighet , group = Utbildning , color = Utbildning,
text = paste(År, "\nUtbildning: " , Utbildning, "\nAndel höger: " , Blocktillhörighet * 100, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(limits = c(0.3, 0.7),
breaks = 0.5,
labels = scales::percent_format(accuracy = 1)) +
scale_x_discrete(breaks = c("2018" , "2024")) +
scale_color_manual(values = c("Förgymnasial" = "#ffb1b1",
"Gymnasial" = "#64b6ee" ,
"Eftergymnasial, -3 år" = "#94c58c",
"Eftergymnasial, 3+ år" = "#ffff9a")) +
ss_theme
df_combined %>%
filter(!År %in% c("2006", "2007", "2008",   # Då Centerpartiet var ett högerparti fram till 2018
"2009", "2010", "2011" ,
"2012" , "2013" , "2014" ,
"2015" , "2016" ,"2017" , "2018")) %>%
ggplot(aes(x = Blocktillhörighet, y = År, group = Utbildning, color = Utbildning,
text = paste(År, "\nUtbildning: " , Utbildning, "\nAndel höger: " , Blocktillhörighet * 100, "%"))) +
geom_line(linewidth = 1) +
scale_x_continuous(limits = c(0.3, 0.7),
breaks = 0.5,
labels = scales::percent_format(accuracy = 1)) +
scale_y_discrete(breaks = c("2019" , "2024")) +
scale_color_manual(values = c("Förgymnasial" = "#ffb1b1",
"Gymnasial" = "#64b6ee" ,
"Eftergymnasial, -3 år" = "#94c58c",
"Eftergymnasial, 3+ år" = "#ffff9a")) +
ss_theme
library(readxl)
partisympati_kön_inkomst <- read_excel("data/partisympati_kön_inkomst.xlsx",
col_types = c("numeric", "text", "text",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric"))
View(partisympati_kön_inkomst)
colnames(partisympati_kön_inkomst) <- c("År" , "Kön" , "Inkomst" , "Moderaterna" , "Centerpartiet" , "Liberalerna" ,
"Kristdemokraterna" , "Miljöpartiet" , "Socialdemokraterna" , "Vänsterpartiet" ,
"Sverigedemokraterna" , "Övriga partier")
df <- partisympati_kön_inkomst %>%
filter(År == 2024 ,
Kön == "Båda") %>%
pivot_longer(!c(År, Kön, Inkomst) , names_to = "Parti" , values_to = "Andel")
partisympati_kön_inkomst <- read_excel("data/partisympati_kön_inkomst.xlsx",
col_types = c("numeric", "text", "text",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric"))
partisympati_kön_inkomst <- read_excel("data/partisympati_kön_inkomst.xlsx",
col_types = c("numeric", "text", "text",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric"))
partisympati_kön_inkomst <- read_excel("data/partisympati_kön_inkomst.xlsx",
col_types = c("numeric", "text", "text",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric"))
colnames(partisympati_kön_inkomst) <- c("År" , "Kön" , "Inkomst" , "Moderaterna" , "Centerpartiet" , "Liberalerna" ,
"Kristdemokraterna" , "Miljöpartiet" , "Socialdemokraterna" , "Vänsterpartiet" ,
"Sverigedemokraterna" , "Övriga partier")
df <- partisympati_kön_inkomst %>%
filter(År == 2024 ,
Kön == "Båda") %>%
pivot_longer(!c(År, Kön, Inkomst) , names_to = "Parti" , values_to = "Andel")
df %>%
ggplot(aes(y = Parti, x = Andel, fill = Inkomst,
text = paste(Parti, "\nInkomst: ", Inkomst, "\nAndel: ", Andel, "%"))) +
geom_col(position = "dodge") +
xlab("Andel, %") +
labs(fill = "Inkomstpercentil") +
ss_theme +
scale_fill_manual(values = c("0-20 %" = "#ffb1b1",
"21-40 %" = "#64b6ee" ,
"41-60 %" = "#94c58c",
"61-80 %" = "#ffff9a" ,
"81-100 %" = "#ffcff1"))
levels = c("81-100 %" , "61-80 %" ,  "41-60 %" , "21-40 %" , "0-20 %")
df <- partisympati_kön_inkomst %>%
filter(År == 2024 ,
Kön == "Båda") %>%
pivot_longer(!c(År, Kön, Inkomst) , names_to = "Parti" , values_to = "Andel")
df %>%
ggplot(aes(y = Parti, x = Andel, fill = factor(Inkomst , level = levels),
text = paste(Parti, "\nInkomst: ", Inkomst, "\nAndel: ", Andel, "%"))) +
geom_col(position = "dodge") +
xlab("Andel, %") +
labs(fill = "Inkomstpercentil") +
ss_theme +
scale_fill_manual(values = c("0-20 %" = "#ffb1b1",
"21-40 %" = "#64b6ee" ,
"41-60 %" = "#94c58c",
"61-80 %" = "#ffff9a" ,
"81-100 %" = "#ffcff1"))
df <- partisympati_kön_inkomst %>%
filter(Kön == "Båda") %>%
select(!Kön) %>%
pivot_longer(!c(År, Inkomst) , names_to = "Parti" , values_to = "Andel")
df_blå <- df %>%
filter(Parti %in% c("Moderaterna", "Liberalerna", "Kristdemokraterna", "Sverigedemokraterna")) %>%
group_by(År, Inkomst) %>%
summarise(Blå = sum(Andel, na.rm = TRUE))
df_röd <- df %>%
filter(Parti %in% c("Miljöpartiet", "Socialdemokraterna",
"Vänsterpartiet", "Centerpartiet")) %>%
group_by(År, Inkomst) %>%
summarise(Röd = sum(Andel, na.rm = TRUE))
df_combined <- cbind(df_blå, df_röd)
df_combined
df <- partisympati_kön_inkomst %>%
filter(Kön == "Båda") %>%
select(!Kön) %>%
pivot_longer(!c(År, Inkomst) , names_to = "Parti" , values_to = "Andel")
df_blå <- df %>%
filter(Parti %in% c("Moderaterna", "Liberalerna", "Kristdemokraterna", "Sverigedemokraterna")) %>%
group_by(År, Inkomst) %>%
summarise(Blå = sum(Andel, na.rm = TRUE))
df_röd <- df %>%
filter(Parti %in% c("Miljöpartiet", "Socialdemokraterna",
"Vänsterpartiet", "Centerpartiet")) %>%
group_by(År, Inkomst) %>%
summarise(Röd = sum(Andel, na.rm = TRUE))
df_combined <- cbind(df_blå, df_röd)
df_combined <- df_combined %>%
select(-c(4, 5))
colnames(df_combined) <- c("År" ,  "Inkomst" , "Blå" , "Röd")
df_combined <- df_combined %>%
mutate(Blocktillhörighet = round(Blå / (Blå + Röd) , 3))
df_combined$År <- as.factor(df_combined$År)
df_combined %>%
filter(!År %in% c("2006", "2007", "2008",   # Då Centerpartiet var ett högerparti fram till 2018
"2009", "2010", "2011" ,
"2012" , "2013" , "2014" ,
"2015" , "2016" ,"2017" , "2018")) %>%
ggplot(aes(x = År , y = Blocktillhörighet , group = Inkomst , color = Inkomst,
text = paste(År, "\nInkomst: " , Inkomst, "\nAndel höger: " , Blocktillhörighet * 100, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(limits = c(0.3, 0.7),
breaks = 0.5,
labels = scales::percent_format(accuracy = 1)) +
scale_x_discrete(breaks = c("2019" , "2024")) +
scale_color_manual(values = c("0-20 %" = "#ffb1b1",
"21-40 %" = "#64b6ee" ,
"41-60 %" = "#94c58c",
"61-80 %" = "#ffff9a" ,
"81-100 %" = "#ffcff1")) +
ss_theme
library(readxl)
partisympati_kön_bakgrund <- read_excel("data/partisympati_kön_bakgrund.xlsx",
col_types = c("numeric", "text", "text",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric"))
View(partisympati_kön_bakgrund)
colnames(partisympati_kön_bakgrund) <- c("År" , "Kön" , "Bakgrund" , "Moderaterna" , "Centerpartiet" , "Liberalerna" ,
"Kristdemokraterna" , "Miljöpartiet" , "Socialdemokraterna" , "Vänsterpartiet" ,
"Sverigedemokraterna" , "Övriga partier")
df <- partisympati_kön_bakgrund %>%
filter(År == 2024 ,
Kön == "Båda") %>%
pivot_longer(!c(År, Kön, Bakgrund) , names_to = "Parti" , values_to = "Andel")
df %>%
ggplot(aes(y = Parti, x = Andel, fill = Bakgrund,
text = paste(Parti, "\nBakgrund: ", Bakgrund, "\nAndel: ", Andel, "%"))) +
geom_col(position = "dodge") +
xlab("Andel, %") +
labs(fill = "Bakgrund") +
ss_theme +
scale_fill_manual(values = c("Utländsk" = "#ffb1b1",
"Svensk" = "#64b6ee"))
df <- partisympati_kön_bakgrund %>%
filter(Kön == "Båda") %>%
select(!Kön) %>%
pivot_longer(!c(År, Bakgrund) , names_to = "Parti" , values_to = "Andel")
df_blå <- df %>%
filter(Parti %in% c("Moderaterna", "Liberalerna", "Kristdemokraterna", "Sverigedemokraterna")) %>%
group_by(År, Bakgrund) %>%
summarise(Blå = sum(Andel, na.rm = TRUE))
df_röd <- df %>%
filter(Parti %in% c("Miljöpartiet", "Socialdemokraterna",
"Vänsterpartiet", "Centerpartiet")) %>%
group_by(År, Bakgrund) %>%
summarise(Röd = sum(Andel, na.rm = TRUE))
df_combined <- cbind(df_blå, df_röd)
df_combined <- df_combined %>%
select(-c(4, 5))
colnames(df_combined) <- c("År" ,  "Bakgrund" , "Blå" , "Röd")
df_combined <- df_combined %>%
mutate(Blocktillhörighet = round(Blå / (Blå + Röd) , 3))
df_combined$År <- as.factor(df_combined$År)
df_combined %>%
filter(!År %in% c("2006", "2007", "2008",   # Då Centerpartiet var ett högerparti fram till 2018
"2009", "2010", "2011" ,
"2012" , "2013" , "2014" ,
"2015" , "2016" ,"2017" , "2018")) %>%
ggplot(aes(x = År , y = Blocktillhörighet , group = Bakgrund , color = Bakgrund,
text = paste(År, "\nBakgrund: " , Bakgrund, "\nAndel höger: " , Blocktillhörighet * 100, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(limits = c(0.3, 0.7),
breaks = 0.5,
labels = scales::percent_format(accuracy = 1)) +
scale_x_discrete(breaks = c("2019" , "2024")) +
scale_color_manual(values = c("Utländsk" = "#ffb1b1",
"Svensk" = "#64b6ee")) +
ss_theme
df_combined
df_combined %>%
filter(!År %in% c("2006", "2007", "2008",   # Då Centerpartiet var ett högerparti fram till 2018
"2009", "2010", "2011" ,
"2012" , "2013" , "2014" ,
"2015" , "2016" ,"2017" , "2018")) %>%
ggplot(aes(x = År , y = Blocktillhörighet , group = Bakgrund , color = Bakgrund,
text = paste(År, "\nBakgrund: " , Bakgrund, "\nAndel höger: " , Blocktillhörighet * 100, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(limits = c(0.35, 0.65),
breaks = 0.5,
labels = scales::percent_format(accuracy = 1)) +
scale_x_discrete(breaks = c("2019" , "2024")) +
scale_color_manual(values = c("Utländsk" = "#ffb1b1",
"Svensk" = "#64b6ee")) +
ss_theme
library(flexdashboard)
library(ggplot2)
library(stringr)
library(scales)
library(dplyr)
library(tidyr)
library(DT)
library(png)
library(data.table)
library(magrittr)
library(gridExtra)
library(openxlsx)
library(forcats)
library(patchwork)
library(ggthemes)
library(plotly)
library(ggridges)
library(forecast)
library(GGally)
library(cluster)
library(sf)
library(ggrepel)
library(ggtext)
df <- partisympati_kön_utb %>%
filter(Kön == "Båda") %>%
select(!Kön) %>%
pivot_longer(!c(År, Utbildning) , names_to = "Parti" , values_to = "Andel")
df_blå <- df %>%
filter(Parti %in% c("Moderaterna", "Liberalerna", "Kristdemokraterna", "Sverigedemokraterna")) %>%
group_by(År, Utbildning) %>%
summarise(Blå = sum(Andel, na.rm = TRUE))
df_röd <- df %>%
filter(Parti %in% c("Miljöpartiet", "Socialdemokraterna",
"Vänsterpartiet", "Centerpartiet")) %>%
group_by(År, Utbildning) %>%
summarise(Röd = sum(Andel, na.rm = TRUE))
df_combined <- cbind(df_blå, df_röd)
df_combined <- df_combined %>%
select(-c(4, 5))
colnames(df_combined) <- c("År" ,  "Utbildning" , "Blå" , "Röd")
df_combined <- df_combined %>%
mutate(Blocktillhörighet = round(Blå / (Blå + Röd) , 3))
df_combined$År <- as.factor(df_combined$År)
df_combined %>%
filter(!År %in% c("2005" , "2006", "2007", "2008",   # Då Centerpartiet var ett högerparti fram till 2018
"2009", "2010", "2011" ,
"2012" , "2013" , "2014" ,
"2015" , "2016" ,"2017" , "2018")) %>%
ggplot(aes(x = År , y = Blocktillhörighet , group = Utbildning , color = Utbildning,
text = paste(År, "\nUtbildning: " , Utbildning, "\nAndel höger: " , Blocktillhörighet * 100, "%"))) +
geom_line(linewidth = 1) +
scale_y_continuous(limits = c(0.3, 0.7),
breaks = 0.5,
labels = scales::percent_format(accuracy = 1)) +
scale_x_discrete(breaks = c("2019" , "2024")) +
scale_color_manual(values = c("Förgymnasial" = "#ffb1b1",
"Gymnasial" = "#64b6ee" ,
"Eftergymnasial, -3 år" = "#94c58c",
"Eftergymnasial, 3+ år" = "#ffff9a")) +
ss_theme -> p_blocksympati_utb
ggplotly(p_blocksympati_utb, tooltip = "text") %>%
config(displayModeBar = F) %>%
layout(legend = list(x = 1.05, y = 0.5, xanchor = "left", yanchor = "middle")) %>%
add_annotations(
x = 0.5, xref = "paper",
y = 0.9, yref = "paper",
text = "Höger",
showarrow = FALSE,
font = list(color = "#1e2791", size = 16 , family = "Arial Black")
) %>%
add_annotations(
x = 0.5, xref = "paper",
y = 0.1, yref = "paper",
text = "Vänster",
showarrow = FALSE,
font = list(color = "#b30000", size = 16 , family = "Arial Black")
)
library(flexdashboard)
library(ggplot2)
library(stringr)
library(scales)
library(dplyr)
library(tidyr)
library(DT)
library(png)
library(data.table)
library(magrittr)
library(gridExtra)
library(openxlsx)
library(forcats)
library(patchwork)
library(ggthemes)
library(plotly)
library(ggridges)
library(forecast)
library(GGally)
library(cluster)
library(sf)
library(ggrepel)
library(ggtext)
df <- partisympati_kön_ålder %>%
filter(Ålder == "Totalt" ,
År == 2024 ,
Kön != "Båda") %>%
pivot_longer(!c(År, Kön, Ålder) , names_to = "Parti" , values_to = "Andel")
partisympati_kön_ålder <- read_excel("data/partisympati_kön_ålder.xlsx",
col_types = c("numeric", "text", "text",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric"))
library(readxl)
partisympati_kön_ålder <- read_excel("data/partisympati_kön_ålder.xlsx",
col_types = c("numeric", "text", "text",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric"))
colnames(partisympati_kön_ålder) <- c("År" , "Kön" , "Ålder" , "Moderaterna" , "Centerpartiet" , "Liberalerna" ,
"Kristdemokraterna" , "Miljöpartiet" , "Socialdemokraterna" , "Vänsterpartiet" ,
"Sverigedemokraterna" , "Övriga partier")
df <- partisympati_kön_ålder %>%
filter(Ålder != "Totalt" ,
År == 2024 ,
Kön == "Båda") %>%
pivot_longer(!c(År, Kön, Ålder) , names_to = "Parti" , values_to = "Andel")
df
library(readxl)
förtroendevalda_kommun_ålder <- read_excel("data/förtroendevalda_kommun_ålder.xlsx")
View(förtroendevalda_kommun_ålder)
